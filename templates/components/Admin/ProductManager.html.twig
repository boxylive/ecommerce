<div{{ attributes }}>
    <table class="min-w-full divide-y divide-gray-300">
        <thead>
            <tr>
                <th class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">
                    <a href="{{ path('admin_product', app.request.query.all | merge({ field: 'name', order: order == 'asc' ? 'desc' : 'asc' })) }}">
                        Nom
                    </a>
                </th>
                <th class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                    <a href="{{ path('admin_product', app.request.query.all | merge({ field: 'price', order: order == 'asc' ? 'desc' : 'asc' })) }}">
                        Prix
                    </a>
                </th>
                <th class="px-3 py-3.5 text-right text-sm font-semibold text-gray-900">Actions</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-200 bg-white">
            {% for product in computed.products %}
                <tr>
                    <td class="whitespace-nowrap py-5 pl-4 pr-3 text-sm sm:pl-0">
                        <div class="flex items-center">
                            <div class="h-11 w-11 flex-shrink-0">
                                <img class="h-11 w-11 rounded-full" src="{{ product.image }}" alt="{{ product.name }}">
                            </div>
                            <div class="ml-4">
                                <div class="font-medium text-gray-900">{{ product.name }}</div>
                            </div>
                        </div>
                    </td>
                    <td class="whitespace-nowrap px-3 py-5 text-sm text-gray-500">
                        <p class="text-gray-900">{{ product.price | price(20) | format_currency('EUR') }} TTC</p>
                    </td>
                    <td class="whitespace-nowrap py-5 pl-3 pr-4 text-sm text-right font-medium sm:pr-0">
                        <div class="inline-flex gap-2">
                            <twig:Button class="!w-auto">Modifier</twig:Button>
                            <twig:Button class="!w-auto !bg-red-600 hover:!bg-red-500 focus-visible:!outline-red-600">Supprimer</twig:Button>
                        </div>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <twig:Admin:Paginate :total="total" url="admin_product" />
</div>
